import{e as z}from"./chunk-RIE7MEC4.js";import{b as L,c as j,d as P,e as N,f as D,g as $,h as Y,i as H,l as q,m as G,n as Z,o as J,p as K,u as Q,v as W,w as X}from"./chunk-BFCV6PZZ.js";import{a as B}from"./chunk-PIKNBSXP.js";import{a as ne,b as O}from"./chunk-OQWVLEVP.js";import"./chunk-HWLEWUSP.js";import{$a as x,Aa as b,Cb as I,Ea as c,Ib as T,Ma as E,Qa as f,Sb as F,Tb as R,Wa as p,Ya as S,Z as M,Za as n,_a as o,ac as U,cb as u,d as te,da as m,db as _,e as C,ea as g,eb as d,fb as A,kb as V,lb as s,mb as w,nb as y,ra as v}from"./chunk-72X2LRK3.js";var k=te(ne());function ie(a,t){a&1&&(n(0,"div",14),s(1,"Chargement\u2026"),o())}function re(a,t){if(a&1){let e=u();n(0,"article",17),_("click",function(){let i=m(e).$implicit,l=d(2);return g(l.goDetail(i))}),n(1,"div",18),x(2,"img",19),o(),n(3,"div",20)(4,"div",21)(5,"h3"),s(6),o(),n(7,"span",22),s(8),o()(),n(9,"p",23),s(10),o(),n(11,"div",24)(12,"span",25),s(13),o()(),n(14,"div",26),_("click",function(i){return m(e),g(i.stopPropagation())}),n(15,"button",27),_("click",function(){let i=m(e).$implicit,l=d(2);return g(l.openEdit(i))}),s(16,"Modifier"),o(),n(17,"button",28),_("click",function(){let i=m(e).$implicit,l=d(2);return g(l.openReplace(i))}),s(18,"Remplacer fichiers"),o(),n(19,"button",29),_("click",function(){let i=m(e).$implicit,l=d(2);return g(l.toggle(i))}),s(20),o(),n(21,"button",30),_("click",function(){let i=m(e).$implicit,l=d(2);return g(l.remove(i))}),s(22,"Supprimer"),o()()()()}if(a&2){let e=t.$implicit,r=d(2);c(2),A("alt",e.name),p("src",r.getUrl(e.imageUrl)||r.getUrl(e.banners==null?null:e.banners[0])||r.getUrl(e.bannerUrl)||r.getUrl(e.iconUrl)||"/assets/placeholder.jpg",b),c(4),w(e.name),c(),S("on",e.isActive)("off",!e.isActive),c(),y(" ",e.isActive?"Actif":"Inactif"," "),c(2),w(e.description||"\u2014"),c(3),y("/",e.slug,""),c(7),w(e.isActive?"D\xE9sactiver":"Activer")}}function oe(a,t){if(a&1&&(n(0,"div",15),f(1,re,23,11,"article",16),o()),a&2){let e=d();c(),p("ngForOf",e.list())}}function ae(a,t){a&1&&(n(0,"p",31),s(1,"Aucune cat\xE9gorie."),o())}function le(a,t){if(a&1){let e=u();n(0,"div",32),_("click",function(){m(e);let i=d();return g(i.closeModal())}),o()}}function se(a,t){if(a&1){let e=u();n(0,"div",57)(1,"button",61),_("click",function(){m(e);let i=d(3);return g(i.clearIcon())}),s(2,"Retirer"),o()()}}function ce(a,t){if(a&1){let e=u();n(0,"div",57)(1,"label",58),s(2," Ajouter "),n(3,"input",62),_("change",function(i){m(e);let l=d(3);return g(l.onPickIcon(i))}),o()()()}}function de(a,t){if(a&1&&(n(0,"div",63),x(1,"img",64),o()),a&2){let e=d(3);c(),p("src",e.iconPreview(),b)}}function pe(a,t){if(a&1){let e=u();n(0,"div",57)(1,"button",61),_("click",function(){m(e);let i=d(3);return g(i.clearImage())}),s(2,"Retirer"),o()()}}function me(a,t){if(a&1){let e=u();n(0,"div",57)(1,"label",58),s(2," Ajouter "),n(3,"input",62),_("change",function(i){m(e);let l=d(3);return g(l.onPickImage(i))}),o()()()}}function ge(a,t){if(a&1&&(n(0,"div",65),x(1,"img",66),o()),a&2){let e=d(3);c(),p("src",e.imagePreview(),b)}}function _e(a,t){if(a&1){let e=u();n(0,"div",69),x(1,"img",70),n(2,"button",71),_("click",function(){let i=m(e).index,l=d(4);return g(l.removeExistingBannerAt(i))}),s(3,"\xD7"),o(),n(4,"span",72),s(5,"existant"),o()()}if(a&2){let e=t.$implicit,r=d(4);c(),p("src",r.getUrl(e),b)}}function fe(a,t){if(a&1&&(n(0,"div",67),f(1,_e,6,1,"div",68),o()),a&2){let e=d(3);c(),p("ngForOf",e.existingBanners())}}function ue(a,t){if(a&1){let e=u();n(0,"div",69),x(1,"img",73),n(2,"button",71),_("click",function(){let i=m(e).index,l=d(4);return g(l.removeBannerAt(i))}),s(3,"\xD7"),o()()}if(a&2){let e=t.$implicit;c(),p("src",e,b)}}function xe(a,t){if(a&1&&(n(0,"div",67),f(1,ue,4,1,"div",68),o()),a&2){let e=d(3);c(),p("ngForOf",e.bannerPreviews())}}function ve(a,t){if(a&1){let e=u();n(0,"div",50)(1,"div",51)(2,"div",52)(3,"label"),s(4,"Ic\xF4ne"),o(),f(5,se,3,0,"div",53),o(),n(6,"div",54)(7,"div",52),f(8,ce,4,0,"div",53),o(),f(9,de,2,1,"div",55),o()(),n(10,"div",51)(11,"div",52)(12,"label"),s(13,"Image (couverture)"),o(),f(14,pe,3,0,"div",53),o(),n(15,"div",54)(16,"div",52),f(17,me,4,0,"div",53),o(),f(18,ge,2,1,"div",56),o()(),n(19,"div",51)(20,"div",52)(21,"label"),s(22,"Banni\xE8res (multiples)"),o(),n(23,"div",57)(24,"label",58),s(25," Ajouter "),n(26,"input",59),_("change",function(i){m(e);let l=d(2);return g(l.onPickBanners(i))}),o()()()(),f(27,fe,2,1,"div",60)(28,xe,2,1,"div",60),o()()}if(a&2){let e=d(2);c(5),p("ngIf",e.iconPreview()),c(3),p("ngIf",!e.iconPreview()),c(),p("ngIf",e.iconPreview()),c(5),p("ngIf",e.imagePreview()),c(3),p("ngIf",!e.imagePreview()),c(),p("ngIf",e.imagePreview()),c(9),p("ngIf",e.existingBanners().length),c(),p("ngIf",e.bannerPreviews().length)}}function be(a,t){if(a&1){let e=u();n(0,"div",33),_("click",function(){m(e);let i=d();return g(i.closeModal())}),n(1,"div",34),_("click",function(i){return m(e),g(i.stopPropagation())}),n(2,"div",35)(3,"h3"),s(4),o(),n(5,"button",36),_("click",function(){m(e);let i=d();return g(i.closeModal())}),s(6,"\xD7"),o()(),n(7,"div",37)(8,"form",38),_("ngSubmit",function(){m(e);let i=d();return g(i.save())}),n(9,"div",39)(10,"div",40)(11,"label"),s(12,"Nom *"),o(),x(13,"input",41),o(),n(14,"div",40)(15,"label"),s(16,"Slug *"),o(),x(17,"input",42),o()(),n(18,"div",40)(19,"label"),s(20,"Description"),o(),x(21,"textarea",43),o(),f(22,ve,29,8,"div",44),n(23,"div",45),x(24,"input",46),n(25,"label",47),s(26,"Cat\xE9gorie active"),o()(),n(27,"div",3)(28,"button",48),_("click",function(){m(e);let i=d();return g(i.closeModal())}),s(29,"Annuler"),o(),n(30,"button",49),s(31,"Enregistrer"),o()()()()()()}if(a&2){let e=d();c(4),w(e.editing()?"Modifier la cat\xE9gorie":"Ajouter une cat\xE9gorie"),c(4),p("formGroup",e.f),c(14),p("ngIf",!e.editing())}}function Ce(a,t){if(a&1){let e=u();n(0,"div",32),_("click",function(){m(e);let i=d();return g(i.closeReplace())}),o()}}function he(a,t){if(a&1){let e=u();n(0,"button",76),_("click",function(){m(e);let i=d(2);return g(i.resetIconSelection())}),s(1,"Annuler"),o()}}function we(a,t){if(a&1&&(n(0,"div",63),x(1,"img",77),n(2,"span",72),s(3,"actuel"),o()()),a&2){let e=d(2);c(),p("src",e.getUrl(e.editing().iconUrl),b)}}function Pe(a,t){if(a&1&&(n(0,"div",63),x(1,"img",78),n(2,"span",72),s(3,"nouveau"),o()()),a&2){let e=d(2);c(),p("src",e.iconPreview(),b)}}function Me(a,t){if(a&1){let e=u();n(0,"button",76),_("click",function(){m(e);let i=d(2);return g(i.resetImageSelection())}),s(1,"Annuler"),o()}}function Oe(a,t){if(a&1&&(n(0,"div",65),x(1,"img",79),n(2,"span",72),s(3,"actuelle"),o()()),a&2){let e=d(2);c(),p("src",e.getUrl(e.editing().imageUrl),b)}}function ke(a,t){if(a&1&&(n(0,"div",65),x(1,"img",80),n(2,"span",72),s(3,"nouvelle"),o()()),a&2){let e=d(2);c(),p("src",e.imagePreview(),b)}}function ye(a,t){if(a&1){let e=u();n(0,"button",76),_("click",function(){m(e);let i=d(2);return g(i.resetBannersSelection())}),s(1,"Annuler"),o()}}function Ee(a,t){if(a&1&&(n(0,"div",69),x(1,"img",81),n(2,"span",72),s(3,"actuelle"),o()()),a&2){let e=t.$implicit,r=d(3);c(),p("src",r.getUrl(e),b)}}function Se(a,t){if(a&1&&(n(0,"div",67),f(1,Ee,4,1,"div",68),o()),a&2){let e=d(2);c(),p("ngForOf",e.editing().banners)}}function Ae(a,t){if(a&1){let e=u();n(0,"div",69),x(1,"img",82),n(2,"button",71),_("click",function(){let i=m(e).index,l=d(3);return g(l.removeNewBannerAt(i))}),s(3,"\xD7"),o(),n(4,"span",72),s(5,"nouvelle"),o()()}if(a&2){let e=t.$implicit;c(),p("src",e,b)}}function Ve(a,t){if(a&1&&(n(0,"div",67),f(1,Ae,6,1,"div",68),o()),a&2){let e=d(2);c(),p("ngForOf",e.bannerPreviews())}}function Ie(a,t){if(a&1){let e=u();n(0,"div",33),_("click",function(){m(e);let i=d();return g(i.closeReplace())}),n(1,"div",34),_("click",function(i){return m(e),g(i.stopPropagation())}),n(2,"div",35)(3,"h3"),s(4,"Remplacer les fichiers"),o(),n(5,"button",36),_("click",function(){m(e);let i=d();return g(i.closeReplace())}),s(6,"\xD7"),o()(),n(7,"div",37)(8,"form",74),_("ngSubmit",function(){m(e);let i=d();return g(i.saveReplace())}),n(9,"div",51)(10,"div",52)(11,"label"),s(12,"Ic\xF4ne (remplacement total)"),o(),n(13,"div",57)(14,"label",58),s(15," Choisir fichier "),n(16,"input",62),_("change",function(i){m(e);let l=d();return g(l.onPickIconReplace(i))}),o()(),f(17,he,2,0,"button",75),o()(),n(18,"div",54),f(19,we,4,1,"div",55)(20,Pe,4,1,"div",55),o()(),n(21,"div",51)(22,"div",52)(23,"label"),s(24,"Image de couverture (remplacement total)"),o(),n(25,"div",57)(26,"label",58),s(27," Choisir fichier "),n(28,"input",62),_("change",function(i){m(e);let l=d();return g(l.onPickImageReplace(i))}),o()(),f(29,Me,2,0,"button",75),o()(),n(30,"div",54),f(31,Oe,4,1,"div",56)(32,ke,4,1,"div",56),o()(),n(33,"div",51)(34,"div",52)(35,"label"),s(36,"Banni\xE8res (remplacement total)"),o(),n(37,"div",57)(38,"label",58),s(39," Choisir fichiers "),n(40,"input",59),_("change",function(i){m(e);let l=d();return g(l.onPickBannersReplace(i))}),o()(),f(41,ye,2,0,"button",75),o()(),f(42,Se,2,1,"div",60)(43,Ve,2,1,"div",60),o(),n(44,"div",3)(45,"button",48),_("click",function(){m(e);let i=d();return g(i.closeReplace())}),s(46,"Annuler"),o(),n(47,"button",49),s(48,"Remplacer"),o()()()()()()}if(a&2){let e,r,i,l=d();c(17),p("ngIf",l.iconChanged),c(2),p("ngIf",((e=l.editing())==null?null:e.iconUrl)&&!l.iconChanged),c(),p("ngIf",l.iconChanged&&l.iconPreview()),c(9),p("ngIf",l.imageChanged),c(2),p("ngIf",((r=l.editing())==null?null:r.imageUrl)&&!l.imageChanged),c(),p("ngIf",l.imageChanged&&l.imagePreview()),c(9),p("ngIf",l.bannersChanged),c(),p("ngIf",((i=l.editing())==null||i.banners==null?null:i.banners.length)&&!l.bannersChanged),c(),p("ngIf",l.bannersChanged&&l.bannerPreviews().length)}}var ee=class a{api=M(B);fb=M(Q);router=M(z);loading=v(!0);raw=v([]);q=v("");status=v("all");modalOpen=v(!1);editing=v(null);f=this.fb.group({name:["",[P.required,P.minLength(2)]],slug:["",[P.required,P.pattern(/^[a-z0-9-]+$/)]],description:[""],isActive:[!0]});imageFile=v(null);imagePreview=v(null);iconFile=v(null);iconPreview=v(null);bannerFiles=v([]);bannerPreviews=v([]);existingBanners=v([]);list=T(()=>{let t=this.q().trim().toLowerCase(),e=this.status();return this.raw().filter(r=>{let i=!t||r.name.toLowerCase().includes(t)||r.slug.toLowerCase().includes(t)||(r.description||"").toLowerCase().includes(t),l=e==="all"||e==="active"&&r.isActive||e==="inactive"&&!r.isActive;return i&&l})});ngOnInit(){return C(this,null,function*(){yield this.fetch()})}fetch(){return C(this,null,function*(){this.loading.set(!0);try{let t=yield this.api.list().toPromise();this.raw.set(t||[])}finally{this.loading.set(!1)}})}openCreate(){this.editing.set(null),this.f.reset({name:"",slug:"",description:"",isActive:!0}),this.imageFile.set(null),this.imagePreview.set(null),this.iconFile.set(null),this.iconPreview.set(null),this.bannerFiles.set([]),this.bannerPreviews.set([]),this.existingBanners.set([]),this.modalOpen.set(!0),document.body.classList.add("modal-open")}openEdit(t){this.editing.set(t),this.f.reset({name:t.name,slug:t.slug,description:t.description||"",isActive:t.isActive}),this.imageFile.set(null),this.imagePreview.set(O(t.imageUrl)||null),this.iconFile.set(null),this.iconPreview.set(O(t.iconUrl)||null);let e=Array.isArray(t.banners)?t.banners:t.bannerUrl?[t.bannerUrl]:[];this.existingBanners.set(e),this.bannerFiles.set([]),this.bannerPreviews.set([]),this.modalOpen.set(!0),document.body.classList.add("modal-open")}closeModal(){this.modalOpen.set(!1),document.body.classList.remove("modal-open")}onPickImage(t){let e=t.target.files?.[0]||null;this.imageFile.set(e),this.imagePreview.set(e?URL.createObjectURL(e):null)}clearImage(){this.imageFile.set(null),this.imagePreview.set(null)}onPickIcon(t){let e=t.target.files?.[0]||null;this.iconFile.set(e),this.iconPreview.set(e?URL.createObjectURL(e):null)}clearIcon(){this.iconFile.set(null),this.iconPreview.set(null)}onPickBanners(t){let e=Array.from(t.target.files||[]);if(!e.length)return;let r=[...this.bannerFiles(),...e],i=[...this.bannerPreviews(),...e.map(l=>URL.createObjectURL(l))];this.bannerFiles.set(r),this.bannerPreviews.set(i),t.target.value=""}removeBannerAt(t){let e=[...this.bannerFiles()],r=[...this.bannerPreviews()];e.splice(t,1),r.splice(t,1),this.bannerFiles.set(e),this.bannerPreviews.set(r)}removeExistingBannerAt(t){let e=[...this.existingBanners()];e.splice(t,1),this.existingBanners.set(e)}save(){return C(this,null,function*(){if(this.f.invalid){this.f.markAllAsTouched();return}let t=this.f.value,e=new FormData;e.append("name",t.name),e.append("slug",t.slug),e.append("description",t.description||""),e.append("isActive",String(!!t.isActive)),this.editing()||(this.imageFile()&&e.append("image",this.imageFile()),this.iconFile()&&e.append("icon",this.iconFile()),this.existingBanners().forEach(r=>e.append("existingBanners[]",r)),this.bannerFiles().forEach(r=>e.append("banners",r)));try{if(this.editing()){let r=yield this.api.update(this.editing()._id,e).toPromise();r&&this.raw.set(this.raw().map(i=>i._id===r._id?r:i))}else{console.log(e);let r=yield this.api.create(e).toPromise();r&&this.raw.set([r,...this.raw()])}this.closeModal()}catch(r){console.error(r)}})}toggle(t){return C(this,null,function*(){try{let e=yield this.api.toggle(t._id,!t.isActive).toPromise();e&&this.raw.set(this.raw().map(r=>r._id===t._id?e:r))}catch(e){console.error(e)}})}remove(t){return C(this,null,function*(){if(confirm(`Supprimer "${t.name}" ?`))try{yield this.api.remove(t._id).toPromise(),this.raw.set(this.raw().filter(e=>e._id!==t._id))}catch(e){console.error(e)}})}goDetail(t){this.router.navigate(["/admin/categories",t._id])}getUrl=O;replaceOpen=v(!1);iconChanged=!1;imageChanged=!1;bannersChanged=!1;iconFileReplace=null;imageFileReplace=null;bannerFilesReplace=[];openReplace(t){this.editing.set(t),this.iconChanged=!1,this.imageChanged=!1,this.bannersChanged=!1,this.iconFileReplace=null,this.imageFileReplace=null,this.bannerFilesReplace=[],this.iconPreview.set(null),this.imagePreview.set(null),this.bannerPreviews.set([]),this.replaceOpen.set(!0),document.body.classList.add("modal-open")}closeReplace(){this.replaceOpen.set(!1),document.body.classList.remove("modal-open")}onPickIconReplace(t){let e=t.target.files?.[0]||null;this.iconFileReplace=e,this.iconPreview.set(e?URL.createObjectURL(e):null),this.iconChanged=!!e}resetIconSelection(){this.iconFileReplace=null,this.iconPreview.set(null),this.iconChanged=!1}onPickImageReplace(t){let e=t.target.files?.[0]||null;this.imageFileReplace=e,this.imagePreview.set(e?URL.createObjectURL(e):null),this.imageChanged=!!e}resetImageSelection(){this.imageFileReplace=null,this.imagePreview.set(null),this.imageChanged=!1}onPickBannersReplace(t){let e=Array.from(t.target.files||[]);this.bannerFilesReplace=e,this.bannerPreviews.set(e.map(r=>URL.createObjectURL(r))),this.bannersChanged=e.length>0}resetBannersSelection(){this.bannerFilesReplace=[],this.bannerPreviews.set([]),this.bannersChanged=!1}removeNewBannerAt(t){let e=[...this.bannerFilesReplace];e.splice(t,1),this.bannerFilesReplace=e,this.bannerPreviews.set(e.map(r=>URL.createObjectURL(r))),this.bannersChanged=e.length>0}saveReplace(){return C(this,null,function*(){let t=[];if(this.iconChanged&&t.push("ic\xF4ne"),this.imageChanged&&t.push("image de couverture"),this.bannersChanged&&t.push("banni\xE8res"),!t.length){this.closeReplace();return}let e=`Les \xE9l\xE9ments suivants seront <b>\xE9cras\xE9s</b> :<br>\u2022 ${t.join("<br>\u2022 ")}`;if(!(yield k.default.fire({title:"Confirmer le remplacement",html:e,icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, remplacer",cancelButtonText:"Annuler",confirmButtonColor:"#4f46e5"})).isConfirmed)return;let i=new FormData;this.iconChanged&&this.iconFileReplace&&(i.append("replaceIcon","true"),i.append("icon",this.iconFileReplace)),this.imageChanged&&this.imageFileReplace&&(i.append("replaceImage","true"),i.append("image",this.imageFileReplace)),this.bannersChanged&&this.bannerFilesReplace.length&&(i.append("replaceBanners","true"),this.bannerFilesReplace.forEach(l=>i.append("banners",l)));try{console.log(i);let l=yield this.api.replace(this.editing()._id,i).toPromise();l&&(this.raw.set(this.raw().map(h=>h._id===l._id?l:h)),yield k.default.fire({icon:"success",title:"Modifications enregistr\xE9es",timer:1400,showConfirmButton:!1}),this.closeReplace())}catch(l){console.error(l),k.default.fire({icon:"error",title:"Erreur",text:"Impossible d\u2019enregistrer."})}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-admin-categories"]],decls:23,vars:9,consts:[["empty",""],[1,"admin-cats"],[1,"head"],[1,"actions"],["type","search","placeholder","Rechercher nom / slug / description\u2026",1,"search",3,"ngModelChange","ngModel"],[1,"select",3,"ngModelChange","ngModel"],["value","all"],["value","active"],["value","inactive"],[1,"btn","primary",3,"click"],["class","loading",4,"ngIf"],["class","grid",4,"ngIf","ngIfElse"],["class","backdrop",3,"click",4,"ngIf"],["class","modal","role","dialog","aria-modal","true",3,"click",4,"ngIf"],[1,"loading"],[1,"grid"],["class","card","role","button","tabindex","0",3,"click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"card",3,"click"],[1,"media"],[3,"src","alt"],[1,"info"],[1,"top"],[1,"badge"],[1,"muted"],[1,"meta"],[1,"slug"],[1,"row",3,"click"],[1,"btn",3,"click"],[1,"btn","ghost",3,"click"],[1,"btn","warn",3,"click"],[1,"btn","danger",3,"click"],[1,"empty","muted"],[1,"backdrop",3,"click"],["role","dialog","aria-modal","true",1,"modal",3,"click"],["role","document",1,"panel",3,"click"],[1,"panel-head"],["type","button",1,"x",3,"click"],[1,"panel-body"],[1,"form",3,"ngSubmit","formGroup"],[1,"row-2"],[1,"field"],["formControlName","name","placeholder","Ex: Laptops"],["formControlName","slug","placeholder","ex: laptops"],["formControlName","description","rows","3","placeholder","Description courte\u2026"],["class","uploads",4,"ngIf"],[1,"field","switch"],["id","active","type","checkbox","formControlName","isActive"],["for","active"],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","primary"],[1,"uploads"],[1,"u-block"],[1,"u-head"],["class","u-actions",4,"ngIf"],[1,"u-body"],["class","preview icon",4,"ngIf"],["class","preview",4,"ngIf"],[1,"u-actions"],[1,"btn","ghost","sm"],["type","file","accept","image/*","multiple","","hidden","",3,"change"],["class","thumbs",4,"ngIf"],["type","button",1,"btn","ghost","sm",3,"click"],["type","file","accept","image/*","hidden","",3,"change"],[1,"preview","icon"],["alt","icon preview",3,"src"],[1,"preview"],["alt","image preview",3,"src"],[1,"thumbs"],["class","thumb",4,"ngFor","ngForOf"],[1,"thumb"],["alt","banner",3,"src"],["type","button",1,"t-remove",3,"click"],[1,"tag"],["alt","banner preview",3,"src"],[1,"form",3,"ngSubmit"],["type","button","class","btn warn sm",3,"click",4,"ngIf"],["type","button",1,"btn","warn","sm",3,"click"],["alt","icon old",3,"src"],["alt","icon new",3,"src"],["alt","image old",3,"src"],["alt","image new",3,"src"],["alt","banner old",3,"src"],["alt","banner new",3,"src"]],template:function(e,r){if(e&1){let i=u();n(0,"section",1)(1,"header",2)(2,"h2"),s(3,"Cat\xE9gories"),o(),n(4,"div",3)(5,"input",4),_("ngModelChange",function(h){return m(i),g(r.q.set(h))}),o(),n(6,"select",5),_("ngModelChange",function(h){return m(i),g(r.status.set(h))}),n(7,"option",6),s(8,"Toutes"),o(),n(9,"option",7),s(10,"Actives"),o(),n(11,"option",8),s(12,"Inactives"),o()(),n(13,"button",9),_("click",function(){return m(i),g(r.openCreate())}),s(14,"+ Ajouter"),o()()(),f(15,ie,2,0,"div",10)(16,oe,2,1,"div",11)(17,ae,2,0,"ng-template",null,0,I),o(),f(19,le,1,0,"div",12)(20,be,32,3,"div",13)(21,Ce,1,0,"div",12)(22,Ie,49,9,"div",13)}if(e&2){let i=V(18);c(5),p("ngModel",r.q()),c(),p("ngModel",r.status()),c(9),p("ngIf",r.loading()),c(),p("ngIf",!r.loading()&&r.list().length)("ngIfElse",i),c(3),p("ngIf",r.modalOpen()),c(),p("ngIf",r.modalOpen()),c(),p("ngIf",r.replaceOpen()),c(),p("ngIf",r.replaceOpen())}},dependencies:[U,F,R,W,H,J,K,j,L,Z,N,D,Y,$,X,q,G],styles:[`.admin-cats[_ngcontent-%COMP%]{display:grid;gap:18px;min-height:100%}.head[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;gap:12px;width:100%;padding:8px 0}.head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:800;letter-spacing:-.025em;background:linear-gradient(135deg,#e6eaf2,#22d3ee);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:nowrap;justify-content:flex-end;flex:1;min-width:0}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:40px;min-width:260px;padding:0 12px 0 38px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21 21l-4.35-4.35m1.35-5.65a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z' stroke='%239aa3b2' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat 12px center,#ffffff0a;color:#e6eaf2;font-size:14px;transition:all .2s ease;flex-shrink:0}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{border-color:#22d3ee;box-shadow:0 0 0 3px #22d3ee26,inset 0 0 0 1px #ffffff1a;background-color:#ffffff0b;transform:translateY(-1px)}.select[_ngcontent-%COMP%]{height:44px;min-width:min(160px,100%);padding:0 44px 0 12px;border-radius:16px;border:1.5px solid rgba(255,255,255,.12);background:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5' stroke='%239aa3b2' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat right 12px center / 16px,linear-gradient(135deg,#ffffff0a,#ffffff05);color:#e6eaf2;font-size:.875rem;transition:all .2s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(8px);cursor:pointer}.select[_ngcontent-%COMP%]:focus{border-color:#22d3ee;box-shadow:0 0 0 3px #22d3ee26;transform:translateY(-1px)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:4px;height:44px;padding:0 16px;border-radius:16px;border:1.5px solid transparent;background:linear-gradient(135deg,#ffffff14,#ffffff0a);color:#e6eaf2;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(8px);position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.1),transparent);opacity:0;transition:all .2s cubic-bezier(.4,0,.2,1)}.btn[_ngcontent-%COMP%]:hover:before{opacity:1}.btn[_ngcontent-%COMP%]:hover{border-color:#fff3;transform:translateY(-2px);box-shadow:0 2px 8px #00000026}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#6366f1);border-color:transparent;color:#fff;box-shadow:0 4px 12px #4f46e54d}.btn.warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#fbbf24);border-color:transparent;color:#0b0f1a}.btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#f87171);border-color:transparent;color:#fff}.btn.ghost[_ngcontent-%COMP%]{background:#ffffff0f;border-color:#ffffff1f}.btn.sm[_ngcontent-%COMP%]{height:36px;padding:0 12px;font-size:.8125rem;border-radius:12px}.grid[_ngcontent-%COMP%]{display:grid;gap:18px;grid-template-columns:repeat(auto-fill,minmax(min(100%,300px),1fr))}.card[_ngcontent-%COMP%]{position:relative;display:grid;overflow:hidden;grid-template-rows:auto 1fr auto;gap:12px;padding:16px;border-radius:18px;background:radial-gradient(120% 120% at -10% -10%,rgba(34,211,238,.1),transparent 50%),linear-gradient(180deg,#ffffff0d,#ffffff08);border:1px solid rgba(255,255,255,.12);box-shadow:0 10px 26px #00000040;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.card[_ngcontent-%COMP%]{overflow:hidden!important}.info[_ngcontent-%COMP%], .top[_ngcontent-%COMP%], .meta[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{min-width:0}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.02),transparent);opacity:0;transition:all .3s cubic-bezier(.4,0,.2,1)}.card[_ngcontent-%COMP%]:hover:before{opacity:1}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 28px 70px #00000073;border-color:#ffffff26}.media[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:#0e1525;box-shadow:inset 0 0 0 1px #ffffff14;display:grid;place-items:center;padding:0;width:100%;aspect-ratio:16 / 9}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:0;border:none;background:#0e1525;transition:transform .2s ease}.card[_ngcontent-%COMP%]:hover   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.03)}.info[_ngcontent-%COMP%]{display:grid;gap:8px;min-width:0}.top[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:8px;min-width:0}.top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:800;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-word}.info[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;white-space:normal;word-break:break-word;margin:0}.muted[_ngcontent-%COMP%]{color:#9aa3b2}.meta[_ngcontent-%COMP%]{gap:6px;overflow:hidden}.meta[_ngcontent-%COMP%]   .slug[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:999px;font-size:.75rem;font-weight:700;background:#374151;color:#e6eaf2;box-shadow:inset 0 -1px #ffffff1a;flex-shrink:0}.badge.on[_ngcontent-%COMP%]{background:#10b981f2;color:#07131a;box-shadow:0 0 0 3px #10b9812e,inset 0 -1px #ffffff40}.badge.off[_ngcontent-%COMP%]{background:#ef4444;color:#fff;box-shadow:0 0 0 3px #ef44442e,inset 0 -1px #ffffff40}.row[_ngcontent-%COMP%]{display:grid;gap:4px;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));margin-top:8px}.row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;min-width:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(8px);z-index:900;animation:_ngcontent-%COMP%_fadeIn .2s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;z-index:901;padding:12px}.panel[_ngcontent-%COMP%]{width:100%;max-width:min(720px,95vw);max-height:min(90vh,800px);display:grid;grid-template-rows:auto 1fr;background:#121826f5;backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,.12);border-radius:18px;box-shadow:0 28px 70px #00000073;animation:_ngcontent-%COMP%_modalSlideIn .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}.panel-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid rgba(255,255,255,.08)}.panel-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:800}.panel-head[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]{background:none;border:none;color:#9aa3b2;font-size:1.5rem;cursor:pointer;border-radius:12px;padding:4px;transition:all .2s cubic-bezier(.4,0,.2,1);width:36px;height:36px;display:grid;place-items:center}.panel-head[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]:hover{color:#22d3ee;background:#ffffff14;transform:rotate(90deg)}.panel-body[_ngcontent-%COMP%]{overflow:auto;padding:16px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0a;border-radius:12px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:12px}.panel-body[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.form[_ngcontent-%COMP%]{display:grid;gap:16px}.field[_ngcontent-%COMP%]{display:grid;gap:4px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#e6eaf2}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px 16px;border-radius:16px;border:1.5px solid rgba(255,255,255,.12);background:#0e1525;color:#e6eaf2;font-size:.875rem;transition:all .2s cubic-bezier(.4,0,.2,1);outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#22d3ee;box-shadow:0 0 0 3px #22d3ee26,inset 0 0 0 1px #ffffff1a;transform:translateY(-1px)}.switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.row-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px}.uploads[_ngcontent-%COMP%]{display:grid;gap:16px}.u-block[_ngcontent-%COMP%]{background:#ffffff08;border:1.5px solid rgba(255,255,255,.08);border-radius:16px;padding:16px;transition:all .2s cubic-bezier(.4,0,.2,1)}.u-block[_ngcontent-%COMP%]:hover{border-color:#ffffff1f}.u-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.u-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.u-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:flex-start}.preview.icon[_ngcontent-%COMP%]{position:relative;border-radius:16px;overflow:hidden;box-shadow:0 2px 8px #00000026}.preview.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:96px;height:96px;object-fit:cover;border-radius:16px;background:#0e1525;border:1.5px solid rgba(255,255,255,.08);transition:all .2s cubic-bezier(.4,0,.2,1)}.preview.icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.preview[_ngcontent-%COMP%]{position:relative;border-radius:16px;overflow:hidden;box-shadow:0 2px 8px #00000026}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:260px;max-height:160px;object-fit:cover;border-radius:16px;border:1.5px solid rgba(255,255,255,.08);background:#0e1525}.thumbs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.thumb[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #00000026}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:80px;object-fit:cover;display:block;border:1px solid rgba(255,255,255,.08);border-radius:12px}.t-remove[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;width:24px;height:24px;line-height:20px;text-align:center;border-radius:999px;border:1px solid rgba(255,255,255,.2);background:#000000b3;color:#fff;cursor:pointer;font-weight:700}.tag[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;background:#000c;color:#fff;padding:2px 8px;border-radius:999px;font-size:.75rem;font-weight:600;backdrop-filter:blur(8px)}.loading[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]{color:#9aa3b2;padding:16px;text-align:center;font-size:1rem}.empty[_ngcontent-%COMP%]{background:#ffffff05;border:1.5px dashed rgba(255,255,255,.08);border-radius:16px;padding:18px}@media (max-width: 768px){.head[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.actions[_ngcontent-%COMP%]{justify-content:stretch}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .select[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{flex:1;min-width:auto}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.card[_ngcontent-%COMP%]{padding:12px}.row[_ngcontent-%COMP%]{grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{max-width:95vw;margin:12px}.row-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.u-head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.u-actions[_ngcontent-%COMP%]{align-self:stretch;justify-content:flex-end}.media[_ngcontent-%COMP%]{aspect-ratio:16 / 10}}@media (max-width: 480px){.admin-cats[_ngcontent-%COMP%]{gap:12px}.panel-body[_ngcontent-%COMP%]{padding:12px}.actions[_ngcontent-%COMP%]{flex-direction:column}.top[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.badge[_ngcontent-%COMP%]{align-self:flex-start}}.skel[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffffff0d 25%,#ffffff1f,#ffffff0d 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;border-radius:12px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}`]})};export{ee as AdminCategoriesComponent};
