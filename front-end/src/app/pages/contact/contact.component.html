<section class="contact">
  <header class="contact-head">
    <h1>Contact</h1>
  </header>

  <form [formGroup]="form" (ngSubmit)="submit()" class="form">
    <div class="grid">
      <div class="field">
        <label for="fullName">Nom complet</label>
        <input id="fullName" type="text" formControlName="fullName" placeholder="ex: Ahmed Ben Ali" />
        <small *ngIf="showError('fullName')">Nom invalide (2–100 caractères).</small>
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" placeholder="ex: ahmed@mail.tn" />
        <small *ngIf="showError('email')">Email invalide.</small>
      </div>

      <div class="field">
        <label for="phone">Téléphone</label>
        <input id="phone" type="tel" formControlName="phone" placeholder="ex: +216 12 345 678" />
        <small *ngIf="showError('phone')">Téléphone invalide.</small>
      </div>


    </div>

    <div class="field">
      <label for="message">Message</label>
      <textarea id="message" rows="5" formControlName="message" placeholder="Dis-nous ce dont tu as besoin…"></textarea>
      <small *ngIf="showError('message')">Message requis (10–1000 caractères).</small>
    </div>

    <!-- Honeypot (ne pas supprimer) -->
    <input formControlName="website" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true"/>

    <div class="actions">
      <button class="btn btn-primary btn--sm" type="submit" [disabled]="sending()">
        {{ sending() ? 'Envoi…' : 'Envoyer' }}
      </button>
    </div>


    <p *ngIf="ok()" class="notice-ok">Merci ! Ton message a été envoyé.</p>
    <p *ngIf="err()" class="notice-warn">{{ err() }}</p>
  </form>
</section>
