import{c as j,e as F}from"./chunk-RIE7MEC4.js";import{a as R}from"./chunk-PIKNBSXP.js";import{b as N}from"./chunk-OQWVLEVP.js";import"./chunk-HWLEWUSP.js";import{$a as g,Aa as m,Cb as M,Ea as a,Ib as O,Ma as I,Qa as p,Sb as U,Tb as D,Wa as c,Xb as T,Ya as u,Z as _,Za as o,_a as i,ab as E,ac as z,bb as k,cb as S,da as y,db as A,e as P,ea as w,eb as l,kb as b,lb as r,mb as s,nb as x,ra as C,xb as h,zb as v}from"./chunk-72X2LRK3.js";function L(t,n){if(t&1&&(o(0,"span",25),g(1,"img",7),i()),t&2){let e=l().ngIf,d=l(2);a(),c("src",d.getUrl(e.iconUrl),m)("alt",e.name+" icon")}}function V(t,n){if(t&1){let e=S();o(0,"button",26),A("click",function(){y(e);let f=l(3);return w(f.toggleDesc())}),r(1),i()}if(t&2){let e=l(3);a(),x(" ",e.descExpanded?"Lire moins":"Lire la suite"," ")}}function $(t,n){if(t&1&&(o(0,"figure",30),g(1,"img",7),i()),t&2){let e=n.$implicit,d=l(2).ngIf,f=l(2);a(),c("src",f.getUrl(e),m)("alt",d.name+" banner")}}function q(t,n){if(t&1&&(o(0,"section",27)(1,"h3"),r(2,"Banni\xE8res"),i(),o(3,"div",28),p(4,$,2,2,"figure",29),i()()),t&2){let e=l().ngIf;a(4),c("ngForOf",e.banners)}}function G(t,n){if(t&1&&(o(0,"li")(1,"span"),r(2,"Cr\xE9\xE9e"),i(),o(3,"code"),r(4),h(5,"date"),i()()),t&2){let e=l().ngIf;a(4),s(v(5,1,e.createdAt,"medium"))}}function H(t,n){if(t&1&&(o(0,"li")(1,"span"),r(2,"Modifi\xE9e"),i(),o(3,"code"),r(4),h(5,"date"),i()()),t&2){let e=l().ngIf;a(4),s(v(5,1,e.updatedAt,"medium"))}}function J(t,n){if(t&1&&g(0,"img",31),t&2){let e=l().ngIf,d=l(2);c("src",d.getUrl(e.iconUrl),m)}}function K(t,n){if(t&1&&g(0,"img",32),t&2){let e=l().ngIf,d=l(2);c("src",d.getUrl(e.imageUrl),m)}}function Q(t,n){if(t&1&&(E(0),o(1,"section",5)(2,"div",6),g(3,"img",7)(4,"div",8),i(),o(5,"div",9)(6,"div",10),p(7,L,2,2,"span",11),g(8,"span",12),o(9,"h1"),r(10),i(),o(11,"span",13),r(12),i()(),o(13,"div",14),r(14),i(),o(15,"div",15)(16,"p"),r(17),i(),p(18,V,2,1,"button",16),i()()(),p(19,q,5,1,"section",17),o(20,"section",18)(21,"div",19)(22,"h4"),r(23,"Informations"),i(),o(24,"ul")(25,"li")(26,"span"),r(27,"Nom"),i(),o(28,"code"),r(29),i()(),o(30,"li")(31,"span"),r(32,"Slug"),i(),o(33,"code"),r(34),i()(),o(35,"li")(36,"span"),r(37,"Statut"),i(),o(38,"b"),r(39),i()(),p(40,G,6,4,"li",20)(41,H,6,4,"li",20),i()(),o(42,"div",21)(43,"h4"),r(44,"Ressources"),i(),o(45,"div",22),p(46,J,1,1,"img",23)(47,K,1,1,"img",24),i()()(),k()),t&2){let e=n.ngIf,d=l(2);a(3),c("src",d.getUrl(e.imageUrl||(e.banners==null?null:e.banners[0])||e.iconUrl),m)("alt",e.name),a(4),c("ngIf",e.iconUrl),a(3),s(e.name),a(),u("on",e.isActive)("off",!e.isActive),a(),x(" ",e.isActive?"Actif":"Inactif"," "),a(2),x("/",e.slug,""),a(),u("expanded",d.descExpanded),a(2),s(e.description||"\u2014"),a(),c("ngIf",(e.description||"").length>140),a(),c("ngIf",e.banners==null?null:e.banners.length),a(10),s(e.name),a(5),s(e.slug),a(4),u("on",e.isActive)("off",!e.isActive),a(),x(" ",e.isActive?"Actif":"Inactif"," "),a(),c("ngIf",e.createdAt),a(),c("ngIf",e.updatedAt),a(5),c("ngIf",e.iconUrl),a(),c("ngIf",e.imageUrl)}}function W(t,n){if(t&1&&(o(0,"div",3),p(1,Q,48,26,"ng-container",4),i()),t&2){let e=l(),d=b(4);a(),c("ngIf",e.cat())("ngIfElse",d)}}function X(t,n){t&1&&(o(0,"div",33),r(1,"Chargement\u2026"),i())}function Y(t,n){t&1&&(o(0,"div",33),r(1,"Cat\xE9gorie introuvable."),i())}var B=class t{route=_(j);router=_(F);api=_(R);loading=C(!0);cat=C(null);cover=O(()=>{let n=this.cat();return n?n.imageUrl||n.banners?.[0]||n.bannerUrl||n.iconUrl||"/assets/placeholder.jpg":null});allBanners=O(()=>{let n=this.cat();if(!n)return[];let e=[...n.banners||[],...n.bannerUrl?[n.bannerUrl]:[]];return Array.from(new Set(e.filter(Boolean)))});descExpanded=!1;ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.fetch(n)}fetch(n){return P(this,null,function*(){this.loading.set(!0);try{let e=yield this.api.getOne(n).toPromise();this.cat.set(e||null)}finally{this.loading.set(!1)}})}back(){this.router.navigate(["/admin/categories"])}toggleDesc(){this.descExpanded=!this.descExpanded}getUrl=N;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=I({type:t,selectors:[["app-admin-category-detail"]],decls:5,vars:2,consts:[["loadingTpl",""],["emptyTpl",""],["class","cat-detail",4,"ngIf","ngIfElse"],[1,"cat-detail"],[4,"ngIf","ngIfElse"],[1,"hero"],[1,"cover"],[3,"src","alt"],[1,"overlay"],[1,"hero-content"],[1,"title-line"],["class","icon",4,"ngIf"],[1,"dot"],[1,"badge"],[1,"slug"],[1,"desc"],["type","button","class","read-more",3,"click",4,"ngIf"],["class","gallery",4,"ngIf"],[1,"meta"],[1,"card"],[4,"ngIf"],[1,"card","res"],[1,"flexy"],["class","mini","alt","ic\xF4ne",3,"src",4,"ngIf"],["class","mini wide","alt","image",3,"src",4,"ngIf"],[1,"icon"],["type","button",1,"read-more",3,"click"],[1,"gallery"],[1,"thumbs"],["class","thumb",4,"ngFor","ngForOf"],[1,"thumb"],["alt","ic\xF4ne",1,"mini",3,"src"],["alt","image",1,"mini","wide",3,"src"],[1,"muted"]],template:function(e,d){if(e&1&&p(0,W,2,2,"div",2)(1,X,2,0,"ng-template",null,0,M)(3,Y,2,0,"ng-template",null,1,M),e&2){let f=b(2);c("ngIf",!d.loading())("ngIfElse",f)}},dependencies:[z,U,D,T],styles:['.cat-detail[_ngcontent-%COMP%]{display:grid;gap:22px}.detail-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.detail-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;letter-spacing:.2px}.btn[_ngcontent-%COMP%]{height:38px;padding:0 12px;border-radius:12px;cursor:pointer;background:#ffffff0f;color:#e6eaf2;border:1px solid rgba(255,255,255,.12);transition:transform .1s ease,border-color .2s ease,background .2s ease,filter .15s ease}.btn[_ngcontent-%COMP%]:hover{border-color:#ffffff47;filter:brightness(1.05)}.btn.ghost[_ngcontent-%COMP%]{background:#ffffff0a}.hero[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;border-radius:18px;overflow:hidden;background:#121826;border:1px solid rgba(255,255,255,.1);box-shadow:0 18px 50px #00000059}.cover[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16/7;overflow:hidden;background:#0e1525;isolation:isolate}@supports not (aspect-ratio: 1/1){.cover[_ngcontent-%COMP%]{height:260px}}.cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1);transition:transform .5s ease;will-change:transform}.hero[_ngcontent-%COMP%]:hover   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.02)}.cover[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(110% 120% at 0% 0%,rgba(34,211,238,.18),transparent 42%),linear-gradient(to top,#1218268c,#12182600 55%);mix-blend-mode:normal;pointer-events:none}.hero-content[_ngcontent-%COMP%]{position:relative;margin-top:-72px;padding:0 18px 18px;z-index:2}@media (max-width: 680px){.hero-content[_ngcontent-%COMP%]{margin-top:-56px;padding:0 14px 14px}}@media (max-width: 420px){.hero-content[_ngcontent-%COMP%]{margin-top:-44px}}.title-line[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap;max-width:100%;padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.1);background:#121826ad;-webkit-backdrop-filter:blur(10px) saturate(150%);backdrop-filter:blur(10px) saturate(150%);box-shadow:0 8px 24px #00000040}.icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;overflow:hidden;display:grid;place-items:center;background:#0e1525;border:1px solid rgba(255,255,255,.1);box-shadow:inset 0 0 0 1px #ffffff0a}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}@media (max-width: 420px){.icon[_ngcontent-%COMP%]{width:30px;height:30px}}h1[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:900;letter-spacing:.2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 680px){h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 420px){h1[_ngcontent-%COMP%]{font-size:18px}}.badge[_ngcontent-%COMP%]{margin-left:auto;padding:4px 10px;border-radius:999px;font-size:12px;font-weight:800;background:#374151;color:#e6eaf2;box-shadow:inset 0 -1px #ffffff26}.badge.on[_ngcontent-%COMP%]{background:#10b981f2;color:#07131a}.badge.off[_ngcontent-%COMP%]{background:#ef4444f2;color:#fff}.slug[_ngcontent-%COMP%]{margin-top:8px;display:inline-block;padding:4px 8px;border-radius:10px;font:12px ui-monospace,Menlo,monospace;color:#a7b0c2;background:#ffffff0a;border:1px solid rgba(255,255,255,.08)}.desc[_ngcontent-%COMP%]{position:relative;margin:10px 0 0;color:#d7dce6}.desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:4;line-clamp:4;transition:max-height .25s ease}.desc.expanded[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-line-clamp:unset;line-clamp:unset}.read-more[_ngcontent-%COMP%]{margin-top:8px;padding:0;background:none;border:none;cursor:pointer;color:var(--accent,#22d3ee);text-decoration:underline;font-weight:600}.read-more[_ngcontent-%COMP%]{margin-top:8px;background:none;border:none;cursor:pointer;color:var(--accent, #22d3ee);text-decoration:underline;font-weight:600;padding:0}.gallery[_ngcontent-%COMP%]{display:grid;gap:12px}.gallery[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.thumbs[_ngcontent-%COMP%]{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}.thumb[_ngcontent-%COMP%]{position:relative;border-radius:14px;overflow:hidden;background:#0e1525;border:1px solid rgba(255,255,255,.08)}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1);transition:transform .35s ease}.thumb[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,#0000 60%,#0000002e);opacity:0;transition:opacity .25s ease}.thumb[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.03)}.thumb[_ngcontent-%COMP%]:hover:after{opacity:1}.meta[_ngcontent-%COMP%]{display:grid;gap:14px;grid-template-columns:1.2fr 1fr}.meta[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff0d,#ffffff08);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:14px}.meta[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px}.meta[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.meta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.meta[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--muted, #9aa3b2)}.meta[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.08);padding:4px 6px;border-radius:8px;font-family:ui-monospace,Menlo,monospace}.meta[_ngcontent-%COMP%]   b.on[_ngcontent-%COMP%]{color:#10b981}.meta[_ngcontent-%COMP%]   b.off[_ngcontent-%COMP%]{color:#ef4444}.res[_ngcontent-%COMP%]{display:grid;gap:12px}.flexy[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.mini[_ngcontent-%COMP%]{width:56px;height:56px;object-fit:cover;border-radius:12px;display:block;border:1px solid rgba(255,255,255,.1);background:#0e1525}.mini.wide[_ngcontent-%COMP%]{width:120px;height:56px}@media (max-width: 980px){.meta[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 680px){.hero-content[_ngcontent-%COMP%]{margin-top:-60px;padding:0 14px 14px}h1[_ngcontent-%COMP%]{font-size:20px}.title-line[_ngcontent-%COMP%]{gap:10px}.badge[_ngcontent-%COMP%]{font-size:11px;padding:3px 8px}.slug[_ngcontent-%COMP%]{font-size:11px}.desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-line-clamp:5;line-clamp:5}.thumbs[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}}@media (max-width: 420px){.hero-content[_ngcontent-%COMP%]{margin-top:-46px}.title-line[_ngcontent-%COMP%]{padding:8px 10px}.icon[_ngcontent-%COMP%]{width:30px;height:30px}h1[_ngcontent-%COMP%]{font-size:18px}}']})};export{B as AdminCategoryDetailComponent};
