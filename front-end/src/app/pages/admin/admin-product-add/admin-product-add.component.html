<!-- src/app/admin/products/admin-product-add.component.html -->
<section class="card">
  <h1>Ajouter un produit</h1>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="grid">
      <label>
        <span>Nom *</span>
        <input type="text" formControlName="name" placeholder="Câble USB-C" />
      </label>

      <label>
        <span>Slug *</span>
        <input type="text" formControlName="slug" placeholder="cable-usb-c" />
      </label>

      <label>
        <span>Prix (TND) *</span>
        <input type="number" step="0.001" min="0" formControlName="price" />
      </label>

      <label>
        <span>Marque</span>
        <input type="text" formControlName="brand" placeholder="Anker" />
      </label>

      <label>
        <span>Image URL</span>
        <input type="text" formControlName="imageUrl" placeholder="https://..." />
      </label>

      <label>
        <span>Ancien prix</span>
        <input type="number" step="0.001" min="0" formControlName="oldPrice" />
      </label>

      <label class="row">
        <input type="checkbox" formControlName="inStock" />
        <span>En stock</span>
      </label>

      <label class="col-span-2">
        <span>Caractéristiques (1 par ligne)</span>
        <textarea rows="5" formControlName="shortSpecs" placeholder="Ex: Écran 15.6&quot; Full HD&#10;SSD 512 Go&#10;8 Go RAM"></textarea>
      </label>
    </div>

    <button class="btn" type="submit" [disabled]="loading() || form.invalid">
      {{ loading() ? 'Envoi…' : 'Créer' }}
    </button>

    <p *ngIf="ok()" class="ok">✅ Produit créé</p>
    <p *ngIf="error()" class="err">❌ {{ error() }}</p>
  </form>
</section>
