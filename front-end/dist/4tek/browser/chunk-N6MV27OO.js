import{a as j}from"./chunk-DB5BZNX6.js";import{b as N,c as z,d as w,e as B,f as D,g as $,h as q,i as H,l as G,m as Y,n as Z,o as J,p as K,u as Q,v as W,w as X}from"./chunk-BFCV6PZZ.js";import{a as L}from"./chunk-PIKNBSXP.js";import{b as P}from"./chunk-OQWVLEVP.js";import{e as R}from"./chunk-HWLEWUSP.js";import{$a as x,Aa as v,Cb as I,Ea as c,Ib as V,Ma as y,Qa as u,Sb as T,Tb as F,Wa as d,Ya as k,Z as S,Za as n,_a as r,ac as U,cb as b,da as m,db as _,e as h,ea as g,eb as p,fb as E,kb as A,lb as l,mb as C,nb as M,ra as f}from"./chunk-72X2LRK3.js";function te(o,t){o&1&&(n(0,"div",14),l(1,"Chargement\u2026"),r())}function ne(o,t){if(o&1&&(n(0,"span",32),l(1),r()),o&2){let e=p().$implicit;c(),M("\u2192 ",e.parent.name,"")}}function ie(o,t){if(o&1){let e=b();n(0,"article",17)(1,"div",18),x(2,"img",19),r(),n(3,"div",20)(4,"div",21)(5,"h3"),l(6),r(),n(7,"span",22),l(8),r()(),n(9,"p",23),l(10),r(),n(11,"div",24)(12,"span",25),l(13),r(),u(14,ne,2,1,"span",26),r(),n(15,"div",27)(16,"button",28),_("click",function(){let a=m(e).$implicit,s=p(2);return g(s.openEdit(a))}),l(17,"Modifier"),r(),n(18,"button",29),_("click",function(){let a=m(e).$implicit,s=p(2);return g(s.openReplace(a))}),l(19,"Remplacer fichiers"),r(),n(20,"button",30),_("click",function(){let a=m(e).$implicit,s=p(2);return g(s.toggle(a))}),l(21),r(),n(22,"button",31),_("click",function(){let a=m(e).$implicit,s=p(2);return g(s.remove(a))}),l(23,"Supprimer"),r()()()()}if(o&2){let e=t.$implicit,i=p(2);c(2),E("alt",e.name),d("src",i.getUrl(e.imageUrl)||i.getUrl(e.banners==null?null:e.banners[0])||i.getUrl(e.iconUrl)||"/assets/placeholder.jpg",v),c(4),C(e.name),c(),k("on",e.isActive)("off",!e.isActive),c(),M(" ",e.isActive?"Actif":"Inactif"," "),c(2),C(e.description||"\u2014"),c(3),M("/",e.slug,""),c(),d("ngIf",e.parent==null?null:e.parent.name),c(7),C(e.isActive?"D\xE9sactiver":"Activer")}}function re(o,t){if(o&1&&(n(0,"div",15),u(1,ie,24,12,"article",16),r()),o&2){let e=p();c(),d("ngForOf",e.list())}}function oe(o,t){o&1&&(n(0,"p",33),l(1,"Aucune sous-cat\xE9gorie."),r())}function ae(o,t){if(o&1){let e=b();n(0,"div",34),_("click",function(){m(e);let a=p();return g(a.closeModal())}),r()}}function le(o,t){if(o&1&&(n(0,"option",55),l(1),r()),o&2){let e=t.$implicit;d("ngValue",e._id),c(),C(e.name)}}function ce(o,t){if(o&1){let e=b();n(0,"div",67)(1,"button",68),_("click",function(){m(e);let a=p(3);return g(a.clearIcon())}),l(2,"Retirer"),r()()}}function se(o,t){if(o&1){let e=b();n(0,"label",64),l(1," Ajouter "),n(2,"input",69),_("change",function(a){m(e);let s=p(3);return g(s.onPickIcon(a))}),r()()}}function de(o,t){if(o&1&&(n(0,"div",70),x(1,"img",71),r()),o&2){let e=p(3);c(),d("src",e.iconPreview(),v)}}function pe(o,t){if(o&1){let e=b();n(0,"div",67)(1,"button",68),_("click",function(){m(e);let a=p(3);return g(a.clearImage())}),l(2,"Retirer"),r()()}}function me(o,t){if(o&1){let e=b();n(0,"label",64),l(1," Ajouter "),n(2,"input",69),_("change",function(a){m(e);let s=p(3);return g(s.onPickImage(a))}),r()()}}function ge(o,t){if(o&1&&(n(0,"div",72),x(1,"img",73),r()),o&2){let e=p(3);c(),d("src",e.imagePreview(),v)}}function _e(o,t){if(o&1){let e=b();n(0,"div",76),x(1,"img",77),n(2,"button",78),_("click",function(){let a=m(e).index,s=p(4);return g(s.removeBannerAt(a))}),l(3,"\xD7"),r()()}if(o&2){let e=t.$implicit;c(),d("src",e,v)}}function ue(o,t){if(o&1&&(n(0,"div",74),u(1,_e,4,1,"div",75),r()),o&2){let e=p(3);c(),d("ngForOf",e.bannerPreviews())}}function fe(o,t){if(o&1){let e=b();n(0,"div",56)(1,"div",57)(2,"div",58)(3,"label"),l(4,"Ic\xF4ne"),r(),u(5,ce,3,0,"div",59),r(),n(6,"div",60),u(7,se,3,0,"label",61)(8,de,2,1,"div",62),r()(),n(9,"div",57)(10,"div",58)(11,"label"),l(12,"Image (couverture)"),r(),u(13,pe,3,0,"div",59),r(),n(14,"div",60),u(15,me,3,0,"label",61)(16,ge,2,1,"div",63),r()(),n(17,"div",57)(18,"div",58)(19,"label"),l(20,"Banni\xE8res (multiples)"),r(),n(21,"label",64),l(22," Ajouter "),n(23,"input",65),_("change",function(a){m(e);let s=p(2);return g(s.onPickBanners(a))}),r()()(),u(24,ue,2,1,"div",66),r()()}if(o&2){let e=p(2);c(5),d("ngIf",e.iconPreview()),c(2),d("ngIf",!e.iconPreview()),c(),d("ngIf",e.iconPreview()),c(5),d("ngIf",e.imagePreview()),c(2),d("ngIf",!e.imagePreview()),c(),d("ngIf",e.imagePreview()),c(8),d("ngIf",e.bannerPreviews().length)}}function be(o,t){if(o&1){let e=b();n(0,"div",35),_("click",function(){m(e);let a=p();return g(a.closeModal())}),n(1,"div",36),_("click",function(a){return m(e),g(a.stopPropagation())}),n(2,"div",37)(3,"h3"),l(4),r(),n(5,"button",38),_("click",function(){m(e);let a=p();return g(a.closeModal())}),l(6,"\xD7"),r()(),n(7,"div",39)(8,"form",40),_("ngSubmit",function(){m(e);let a=p();return g(a.save())}),n(9,"div",41)(10,"div",42)(11,"label"),l(12,"Nom *"),r(),x(13,"input",43),r(),n(14,"div",42)(15,"label"),l(16,"Slug *"),r(),x(17,"input",44),r(),n(18,"div",42)(19,"label"),l(20,"Cat\xE9gorie parente *"),r(),n(21,"select",45)(22,"option",46),l(23,"\u2014 choisir \u2014"),r(),u(24,le,2,2,"option",47),r()()(),n(25,"div",42)(26,"label"),l(27,"Description"),r(),x(28,"textarea",48),r(),u(29,fe,25,7,"div",49),n(30,"div",50),x(31,"input",51),n(32,"label",52),l(33,"Sous-cat\xE9gorie active"),r()(),n(34,"div",3)(35,"button",53),_("click",function(){m(e);let a=p();return g(a.closeModal())}),l(36,"Annuler"),r(),n(37,"button",54),l(38,"Enregistrer"),r()()()()()()}if(o&2){let e=p();c(4),C(e.editing()?"Modifier la sous-cat\xE9gorie":"Ajouter une sous-cat\xE9gorie"),c(4),d("formGroup",e.f),c(14),d("ngValue",null),c(2),d("ngForOf",e.parents()),c(5),d("ngIf",!e.editing())}}function xe(o,t){if(o&1){let e=b();n(0,"div",34),_("click",function(){m(e);let a=p();return g(a.closeReplace())}),r()}}function ve(o,t){if(o&1){let e=b();n(0,"button",81),_("click",function(){m(e);let a=p(2);return g(a.resetIconSelection())}),l(1,"Annuler"),r()}}function he(o,t){if(o&1&&(n(0,"div",70),x(1,"img",82),n(2,"span",83),l(3,"actuel"),r()()),o&2){let e=p(2);c(),d("src",e.getUrl(e.editing().iconUrl),v)}}function Ce(o,t){if(o&1&&(n(0,"div",70),x(1,"img",84),n(2,"span",83),l(3,"nouveau"),r()()),o&2){let e=p(2);c(),d("src",e.iconPreview(),v)}}function we(o,t){if(o&1){let e=b();n(0,"button",81),_("click",function(){m(e);let a=p(2);return g(a.resetImageSelection())}),l(1,"Annuler"),r()}}function Pe(o,t){if(o&1&&(n(0,"div",72),x(1,"img",85),n(2,"span",83),l(3,"actuelle"),r()()),o&2){let e=p(2);c(),d("src",e.getUrl(e.editing().imageUrl),v)}}function Se(o,t){if(o&1&&(n(0,"div",72),x(1,"img",86),n(2,"span",83),l(3,"nouvelle"),r()()),o&2){let e=p(2);c(),d("src",e.imagePreview(),v)}}function Me(o,t){if(o&1){let e=b();n(0,"button",81),_("click",function(){m(e);let a=p(2);return g(a.resetBannersSelection())}),l(1,"Annuler"),r()}}function Oe(o,t){if(o&1&&(n(0,"div",76),x(1,"img",87),n(2,"span",83),l(3,"actuelle"),r()()),o&2){let e=t.$implicit,i=p(3);c(),d("src",i.getUrl(e),v)}}function ye(o,t){if(o&1&&(n(0,"div",74),u(1,Oe,4,1,"div",75),r()),o&2){let e=p(2);c(),d("ngForOf",e.editing().banners)}}function ke(o,t){if(o&1){let e=b();n(0,"div",76),x(1,"img",88),n(2,"button",78),_("click",function(){let a=m(e).index,s=p(3);return g(s.removeNewBannerAt(a))}),l(3,"\xD7"),r(),n(4,"span",83),l(5,"nouvelle"),r()()}if(o&2){let e=t.$implicit;c(),d("src",e,v)}}function Ee(o,t){if(o&1&&(n(0,"div",74),u(1,ke,6,1,"div",75),r()),o&2){let e=p(2);c(),d("ngForOf",e.bannerPreviews())}}function Ae(o,t){if(o&1){let e=b();n(0,"div",35),_("click",function(){m(e);let a=p();return g(a.closeReplace())}),n(1,"div",36),_("click",function(a){return m(e),g(a.stopPropagation())}),n(2,"div",37)(3,"h3"),l(4,"Remplacer les fichiers"),r(),n(5,"button",38),_("click",function(){m(e);let a=p();return g(a.closeReplace())}),l(6,"\xD7"),r()(),n(7,"div",39)(8,"form",79),_("ngSubmit",function(){m(e);let a=p();return g(a.saveReplace())}),n(9,"div",57)(10,"div",58)(11,"label"),l(12,"Ic\xF4ne"),r(),n(13,"div",67)(14,"label",64),l(15," Choisir fichier "),n(16,"input",69),_("change",function(a){m(e);let s=p();return g(s.onPickIconReplace(a))}),r()(),u(17,ve,2,0,"button",80),r()(),n(18,"div",60),u(19,he,4,1,"div",62)(20,Ce,4,1,"div",62),r()(),n(21,"div",57)(22,"div",58)(23,"label"),l(24,"Image de couverture"),r(),n(25,"div",67)(26,"label",64),l(27," Choisir fichier "),n(28,"input",69),_("change",function(a){m(e);let s=p();return g(s.onPickImageReplace(a))}),r()(),u(29,we,2,0,"button",80),r()(),n(30,"div",60),u(31,Pe,4,1,"div",63)(32,Se,4,1,"div",63),r()(),n(33,"div",57)(34,"div",58)(35,"label"),l(36,"Banni\xE8res"),r(),n(37,"div",67)(38,"label",64),l(39," Choisir fichiers "),n(40,"input",65),_("change",function(a){m(e);let s=p();return g(s.onPickBannersReplace(a))}),r()(),u(41,Me,2,0,"button",80),r()(),u(42,ye,2,1,"div",66)(43,Ee,2,1,"div",66),r(),n(44,"div",3)(45,"button",53),_("click",function(){m(e);let a=p();return g(a.closeReplace())}),l(46,"Annuler"),r(),n(47,"button",54),l(48,"Remplacer"),r()()()()()()}if(o&2){let e,i,a,s=p();c(17),d("ngIf",s.iconChanged()),c(2),d("ngIf",((e=s.editing())==null?null:e.iconUrl)&&!s.iconChanged()),c(),d("ngIf",s.iconChanged()&&s.iconPreview()),c(9),d("ngIf",s.imageChanged()),c(2),d("ngIf",((i=s.editing())==null?null:i.imageUrl)&&!s.imageChanged()),c(),d("ngIf",s.imageChanged()&&s.imagePreview()),c(9),d("ngIf",s.bannersChanged()),c(),d("ngIf",((a=s.editing())==null||a.banners==null?null:a.banners.length)&&!s.bannersChanged()),c(),d("ngIf",s.bannersChanged()&&s.bannerPreviews().length)}}var ee=class o{api=S(j);apiCat=S(L);fb=S(Q);loading=f(!0);parents=f([]);raw=f([]);q=f("");status=f("all");modalOpen=f(!1);editing=f(null);replaceOpen=f(!1);f=this.fb.group({name:["",[w.required,w.minLength(2)]],slug:["",[w.required,w.pattern(/^[a-z0-9-]+$/)]],description:[""],isActive:[!0],parentId:[null,[w.required]]});imageFile=f(null);imagePreview=f(null);iconFile=f(null);iconPreview=f(null);bannerFiles=f([]);bannerPreviews=f([]);iconChanged=f(!1);imageChanged=f(!1);bannersChanged=f(!1);list=V(()=>{let t=this.q().trim().toLowerCase(),e=this.status();return this.raw().filter(i=>{let a=!t||i.name.toLowerCase().includes(t)||i.slug.toLowerCase().includes(t)||(i.description||"").toLowerCase().includes(t)||typeof i.parent!="string"&&i.parent?.name?.toLowerCase().includes(t),s=e==="all"||e==="active"&&i.isActive||e==="inactive"&&!i.isActive;return a&&s})});ngOnInit(){return h(this,null,function*(){yield Promise.all([this.fetchParents(),this.fetch()])})}fetchParents(){return h(this,null,function*(){try{let t=yield this.apiCat.list().toPromise();console.log("data"),this.parents.set(t||[])}catch{}})}fetch(){return h(this,null,function*(){this.loading.set(!0);try{let t=yield this.api.list().toPromise();this.raw.set(t||[])}finally{this.loading.set(!1)}})}openCreate(){this.editing.set(null),this.f.reset({name:"",slug:"",description:"",isActive:!0,parentId:null}),this.imageFile.set(null),this.imagePreview.set(null),this.iconFile.set(null),this.iconPreview.set(null),this.bannerFiles.set([]),this.bannerPreviews.set([]),this.modalOpen.set(!0),document.body.classList.add("modal-open")}openEdit(t){this.editing.set(t),this.f.reset({name:t.name,slug:t.slug,description:t.description||"",isActive:t.isActive,parentId:(typeof t.parent=="string"?t.parent:t.parent?._id)||null}),this.imageFile.set(null),this.imagePreview.set(t.imageUrl?P(t.imageUrl):null),this.iconFile.set(null),this.iconPreview.set(t.iconUrl?P(t.iconUrl):null),this.bannerFiles.set([]),this.bannerPreviews.set((t.banners||[]).map(P)),this.modalOpen.set(!0),document.body.classList.add("modal-open")}closeModal(){this.modalOpen.set(!1),document.body.classList.remove("modal-open")}onPickImage(t){let e=t.target.files?.[0]||null;this.imageFile.set(e),this.imagePreview.set(e?URL.createObjectURL(e):null)}clearImage(){this.imageFile.set(null),this.imagePreview.set(null)}onPickIcon(t){let e=t.target.files?.[0]||null;this.iconFile.set(e),this.iconPreview.set(e?URL.createObjectURL(e):null)}clearIcon(){this.iconFile.set(null),this.iconPreview.set(null)}onPickBanners(t){let e=Array.from(t.target.files||[]);if(!e.length)return;let i=[...this.bannerFiles(),...e],a=[...this.bannerPreviews(),...e.map(s=>URL.createObjectURL(s))];this.bannerFiles.set(i),this.bannerPreviews.set(a),t.target.value=""}removeBannerAt(t){let e=[...this.bannerFiles()],i=[...this.bannerPreviews()];e.splice(t,1),i.splice(t,1),this.bannerFiles.set(e),this.bannerPreviews.set(i)}save(){return h(this,null,function*(){if(this.f.invalid){this.f.markAllAsTouched();return}let t=this.f.value,e=new FormData;e.append("name",t.name),e.append("slug",t.slug),e.append("description",t.description||""),e.append("isActive",String(!!t.isActive)),t.parentId&&e.append("parentId",t.parentId),this.imageFile()&&e.append("image",this.imageFile()),this.iconFile()&&e.append("icon",this.iconFile()),this.bannerFiles().forEach(i=>e.append("banners",i));try{if(this.editing()){let i=yield this.api.update(this.editing()._id,e).toPromise();i&&this.raw.set(this.raw().map(a=>a._id===i._id?i:a))}else{let i=yield this.api.create(e).toPromise();i&&this.raw.set([i,...this.raw()])}this.closeModal()}catch(i){console.error(i)}})}toggle(t){return h(this,null,function*(){try{let e=yield this.api.toggle(t._id,!t.isActive).toPromise();e&&this.raw.set(this.raw().map(i=>i._id===t._id?e:i))}catch(e){console.error(e)}})}remove(t){return h(this,null,function*(){if(confirm(`Supprimer "${t.name}" ?`))try{yield this.api.remove(t._id).toPromise(),this.raw.set(this.raw().filter(e=>e._id!==t._id))}catch(e){console.error(e)}})}openReplace(t){this.editing.set(t),this.iconChanged.set(!1),this.imageChanged.set(!1),this.bannersChanged.set(!1),this.iconFile.set(null),this.imageFile.set(null),this.bannerFiles.set([]),this.bannerPreviews.set([]),this.iconPreview.set(null),this.imagePreview.set(null),this.replaceOpen.set(!0),document.body.classList.add("modal-open")}closeReplace(){this.replaceOpen.set(!1),document.body.classList.remove("modal-open")}onPickIconReplace(t){let e=t.target.files?.[0]||null;this.iconFile.set(e),this.iconPreview.set(e?URL.createObjectURL(e):null),this.iconChanged.set(!0)}resetIconSelection(){this.iconFile.set(null),this.iconPreview.set(null),this.iconChanged.set(!1)}onPickImageReplace(t){let e=t.target.files?.[0]||null;this.imageFile.set(e),this.imagePreview.set(e?URL.createObjectURL(e):null),this.imageChanged.set(!0)}resetImageSelection(){this.imageFile.set(null),this.imagePreview.set(null),this.imageChanged.set(!1)}onPickBannersReplace(t){let e=Array.from(t.target.files||[]);this.bannerFiles.set(e),this.bannerPreviews.set(e.map(i=>URL.createObjectURL(i))),this.bannersChanged.set(!!e.length)}removeNewBannerAt(t){let e=[...this.bannerFiles()],i=[...this.bannerPreviews()];e.splice(t,1),i.splice(t,1),this.bannerFiles.set(e),this.bannerPreviews.set(i),this.bannersChanged.set(!!e.length)}resetBannersSelection(){this.bannerFiles.set([]),this.bannerPreviews.set([]),this.bannersChanged.set(!1)}saveReplace(){return h(this,null,function*(){if(!this.editing())return;let t=new FormData;t.append("replaceIcon",String(this.iconChanged())),t.append("replaceImage",String(this.imageChanged())),t.append("replaceBanners",String(this.bannersChanged())),this.iconChanged()&&this.iconFile()&&t.append("icon",this.iconFile()),this.imageChanged()&&this.imageFile()&&t.append("image",this.imageFile()),this.bannersChanged()&&this.bannerFiles().forEach(e=>t.append("banners",e));try{let e=yield this.api.replaceFiles(this.editing()._id,t).toPromise();e&&(this.raw.set(this.raw().map(i=>i._id===e._id?e:i)),this.closeReplace())}catch(e){console.error(e)}})}getUrl=P;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=y({type:o,selectors:[["app-admin-subcategories"]],decls:23,vars:9,consts:[["empty",""],[1,"admin-subs"],[1,"head"],[1,"actions"],["type","search","placeholder","Rechercher nom / slug / description\u2026",1,"search",3,"ngModelChange","ngModel"],[1,"select",3,"ngModelChange","ngModel"],["value","all"],["value","active"],["value","inactive"],[1,"btn","primary",3,"click"],["class","loading",4,"ngIf"],["class","grid",4,"ngIf","ngIfElse"],["class","backdrop",3,"click",4,"ngIf"],["class","modal","role","dialog","aria-modal","true",3,"click",4,"ngIf"],[1,"loading"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"media"],[3,"src","alt"],[1,"info"],[1,"top"],[1,"badge"],[1,"muted","line-2"],[1,"meta"],[1,"slug"],["class","parent",4,"ngIf"],[1,"row"],[1,"btn",3,"click"],[1,"btn","ghost",3,"click"],[1,"btn","warn",3,"click"],[1,"btn","danger",3,"click"],[1,"parent"],[1,"empty","muted"],[1,"backdrop",3,"click"],["role","dialog","aria-modal","true",1,"modal",3,"click"],["role","document",1,"panel",3,"click"],[1,"panel-head"],["type","button",1,"x",3,"click"],[1,"panel-body"],[1,"form",3,"ngSubmit","formGroup"],[1,"row-3"],[1,"field"],["formControlName","name","placeholder","Ex: Casques filaires"],["formControlName","slug","placeholder","ex: casques-filaires"],["formControlName","parentId"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","description","rows","3","placeholder","Description courte\u2026"],["class","uploads",4,"ngIf"],[1,"field","switch"],["id","active","type","checkbox","formControlName","isActive"],["for","active"],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","primary"],[3,"ngValue"],[1,"uploads"],[1,"u-block"],[1,"u-head"],["class","u-actions",4,"ngIf"],[1,"u-body"],["class","btn ghost sm",4,"ngIf"],["class","preview icon",4,"ngIf"],["class","preview",4,"ngIf"],[1,"btn","ghost","sm"],["type","file","accept","image/*","multiple","","hidden","",3,"change"],["class","thumbs",4,"ngIf"],[1,"u-actions"],["type","button",1,"btn","ghost","sm",3,"click"],["type","file","accept","image/*","hidden","",3,"change"],[1,"preview","icon"],["alt","icon preview",3,"src"],[1,"preview"],["alt","image preview",3,"src"],[1,"thumbs"],["class","thumb",4,"ngFor","ngForOf"],[1,"thumb"],["alt","banner preview",3,"src"],["type","button",1,"t-remove",3,"click"],[1,"form",3,"ngSubmit"],["type","button","class","btn warn sm",3,"click",4,"ngIf"],["type","button",1,"btn","warn","sm",3,"click"],["alt","icon old",3,"src"],[1,"tag"],["alt","icon new",3,"src"],["alt","image old",3,"src"],["alt","image new",3,"src"],["alt","banner old",3,"src"],["alt","banner new",3,"src"]],template:function(e,i){if(e&1){let a=b();n(0,"section",1)(1,"header",2)(2,"h2"),l(3,"Sous-cat\xE9gories"),r(),n(4,"div",3)(5,"input",4),_("ngModelChange",function(O){return m(a),g(i.q.set(O))}),r(),n(6,"select",5),_("ngModelChange",function(O){return m(a),g(i.status.set(O))}),n(7,"option",6),l(8,"Toutes"),r(),n(9,"option",7),l(10,"Actives"),r(),n(11,"option",8),l(12,"Inactives"),r()(),n(13,"button",9),_("click",function(){return m(a),g(i.openCreate())}),l(14,"+ Ajouter"),r()()(),u(15,te,2,0,"div",10)(16,re,2,1,"div",11)(17,oe,2,0,"ng-template",null,0,I),r(),u(19,ae,1,0,"div",12)(20,be,39,5,"div",13)(21,xe,1,0,"div",12)(22,Ae,49,9,"div",13)}if(e&2){let a=A(18);c(5),d("ngModel",i.q()),c(),d("ngModel",i.status()),c(9),d("ngIf",i.loading()),c(),d("ngIf",!i.loading()&&i.list().length)("ngIfElse",a),c(3),d("ngIf",i.modalOpen()),c(),d("ngIf",i.modalOpen()),c(),d("ngIf",i.replaceOpen()),c(),d("ngIf",i.replaceOpen())}},dependencies:[U,T,F,W,H,J,K,z,N,Z,B,D,q,$,X,G,Y,R],styles:[`.admin-subs[_ngcontent-%COMP%]{display:grid;gap:18px}.head[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;gap:12px;width:100%;padding:8px 0}.head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:800;letter-spacing:-.025em;background:linear-gradient(135deg,#e6eaf2,#22d3ee);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;gap:10px;justify-content:flex-end;flex:1;min-width:0}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:40px;min-width:260px;padding:0 12px 0 38px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21 21l-4.35-4.35m1.35-5.65a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z' stroke='%239aa3b2' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat 12px center,#ffffff0a;color:var(--text, #e6eaf2);transition:border .15s,box-shadow .15s,background .15s;flex-shrink:0}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]::placeholder{color:#9aa3b2}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{border-color:#22d3ee99;box-shadow:0 0 0 3px #22d3ee2e;background-color:#ffffff0b}.actions[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{height:40px;min-width:160px;padding:0 38px 0 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:url("data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5' stroke='%239aa3b2' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat right 10px center/14px,#ffffff0a;color:var(--text, #e6eaf2);appearance:none;transition:border .15s,box-shadow .15s,background .15s;flex-shrink:0}.actions[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:focus{border-color:#22d3ee99;box-shadow:0 0 0 3px #22d3ee2e}.actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{height:40px;padding:0 14px;border-radius:12px;background:var(--primary, #4f46e5);color:#fff;border:1px solid transparent;cursor:pointer;transition:transform .1s,background .15s,filter .15s;white-space:nowrap;flex-shrink:0}.actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:hover{background:#6366f1;filter:brightness(1.1)}.actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:active{transform:translateY(1px)}.loading[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]{color:var(--muted, #9aa3b2);padding:8px 0}.grid[_ngcontent-%COMP%]{display:grid;gap:18px;grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}.card[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-rows:auto 1fr auto;gap:12px;padding:14px;border-radius:18px;background:radial-gradient(120% 120% at -10% -10%,rgba(34,211,238,.08),transparent 40%),linear-gradient(180deg,#ffffff0d,#ffffff08);border:1px solid rgba(255,255,255,.1);box-shadow:0 10px 26px #00000040;overflow:hidden;transition:transform .18s ease,box-shadow .22s ease,border-color .18s ease,background .22s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 16px 40px #00000059;border-color:#22d3ee47;background:radial-gradient(120% 120% at -10% -10%,rgba(34,211,238,.14),transparent 42%),linear-gradient(180deg,#ffffff0f,#ffffff09)}.media[_ngcontent-%COMP%]{border-radius:14px;overflow:hidden;background:#0e1525;box-shadow:inset 0 0 0 1px #ffffff0f}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;display:block;transform:scale(1);transition:transform .25s ease}.card[_ngcontent-%COMP%]:hover   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.03)}.info[_ngcontent-%COMP%]{display:grid;gap:10px;min-width:0}.top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;min-width:0}.top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:17px;letter-spacing:.2px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.line-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:var(--muted, #9aa3b2)}.meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;font-size:12px;color:#a7b0c2}.meta[_ngcontent-%COMP%]   .slug[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;padding:4px 8px;border-radius:10px;background:#ffffff0a;border:1px solid rgba(255,255,255,.08)}.meta[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]{opacity:.9}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:800;background:#374151;color:#e6eaf2;box-shadow:inset 0 -1px #ffffff1a}.badge.on[_ngcontent-%COMP%]{background:#10b981f2;color:#07131a;box-shadow:0 0 0 3px #10b9812e,inset 0 -1px #ffffff40}.badge.off[_ngcontent-%COMP%]{background:#ef4444f2;color:#fff;box-shadow:0 0 0 3px #ef44442e,inset 0 -1px #ffffff40}.row[_ngcontent-%COMP%]{display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));margin-top:4px}.row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:36px;padding:0 10px;border-radius:10px;font-weight:700;width:100%;backdrop-filter:blur(2px);border:1px solid rgba(255,255,255,.12);background:#ffffff0f;color:#e6eaf2;cursor:pointer;transition:transform .1s,border-color .15s,background .15s,filter .15s}.row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{border-color:#ffffff59;filter:brightness(1.06)}.row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.row[_ngcontent-%COMP%]   .btn.warn[_ngcontent-%COMP%]{background:#f59e0b;color:#0b0f1a;border-color:transparent}.row[_ngcontent-%COMP%]   .btn.danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border-color:transparent}.row[_ngcontent-%COMP%]   .btn.ghost[_ngcontent-%COMP%]{background:#ffffff0a}.backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0000008c;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:900;animation:_ngcontent-%COMP%_fadeIn .15s ease forwards}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;z-index:901;padding:18px}.panel[_ngcontent-%COMP%]{width:100%;max-width:980px;max-height:90vh;display:grid;grid-template-rows:auto 1fr;background:#121826f5;-webkit-backdrop-filter:blur(16px) saturate(160%);backdrop-filter:blur(16px) saturate(160%);border:1px solid rgba(255,255,255,.08);border-radius:18px;box-shadow:0 28px 70px #00000073;animation:_ngcontent-%COMP%_popIn .18s ease forwards}.panel-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.08)}.panel-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:800}.panel-head[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]{background:none;border:none;color:#9aa3b2;font-size:22px;cursor:pointer;border-radius:10px;padding:4px 8px;transition:color .15s,background .15s}.panel-head[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]:hover{color:var(--accent, #22d3ee);background:#ffffff0f}.panel-body[_ngcontent-%COMP%]{overflow:auto;padding:14px 16px 16px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0a;border-radius:10px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff2e;border-radius:10px;border:2px solid rgba(18,24,38,.96)}.panel-body[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.18) transparent}.form[_ngcontent-%COMP%]{display:grid;gap:14px}.field[_ngcontent-%COMP%]{display:grid;gap:6px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0e1525;color:var(--text, #e6eaf2);outline:none;transition:border .15s,box-shadow .15s,filter .15s}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:var(--accent, #22d3ee);box-shadow:0 0 0 3px #22d3ee2e}.switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.row-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}@media (max-width: 980px){.row-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.uploads[_ngcontent-%COMP%]{display:grid;gap:16px}.u-block[_ngcontent-%COMP%]{background:#ffffff08;border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:12px}.u-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.u-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.u-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:flex-start}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:240px;height:132px;object-fit:cover;border-radius:12px;background:#0e1525;border:1px solid rgba(255,255,255,.08)}.preview.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:14px}.thumbs[_ngcontent-%COMP%]{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}.thumb[_ngcontent-%COMP%]{position:relative;height:110px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,.08)}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.t-remove[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;width:26px;height:26px;border-radius:8px;background:#0000008c;color:#fff;border:none;cursor:pointer}.thumb[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], .preview[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;left:6px;bottom:6px;font-size:11px;padding:3px 6px;border-radius:999px;background:#ffffff24;color:#e6eaf2}.btn[_ngcontent-%COMP%]{height:40px;padding:0 14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#ffffff0f;color:#e6eaf2;cursor:pointer;transition:transform .1s,border-color .15s,background .15s,filter .15s}.btn[_ngcontent-%COMP%]:hover{border-color:#ffffff59}.btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn.primary[_ngcontent-%COMP%]{background:var(--primary, #4f46e5);color:#fff;border-color:transparent}.btn.warn[_ngcontent-%COMP%]{background:#f59e0b;color:#0b0f1a;border-color:transparent}.btn.danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border-color:transparent}.btn.ghost[_ngcontent-%COMP%]{background:#ffffff0a}.btn.sm[_ngcontent-%COMP%]{height:32px;padding:0 10px;border-radius:10px;font-size:13px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(.98);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 1024px){.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{min-width:220px}.actions[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{min-width:140px}}@media (max-width: 768px){.head[_ngcontent-%COMP%]{flex-wrap:wrap;gap:12px}.head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1}.actions[_ngcontent-%COMP%]{flex:1 1 100%;justify-content:space-between}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{min-width:120px;flex:1}.grid[_ngcontent-%COMP%]{gap:14px}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px}.top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.line-2[_ngcontent-%COMP%]{-webkit-line-clamp:2}}@media (max-width: 480px){.actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.actions[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{width:100%;min-width:auto}}`]})};export{ee as AdminSubcategoriesComponent};
